<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AzDi Runner</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:linear-gradient(180deg,#5fa8d3,#bde0fe);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial;
}

.wrapper{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

canvas{
  display:block;
  background:#87CEEB;
  border-radius:18px;
  width:min(96vw,900px);
  height:calc(min(96vw,900px)*1.5);
  box-shadow:0 30px 80px rgba(0,0,0,0.4);
}

.title{
  position:absolute;
  top:15px;
  left:50%;
  transform:translateX(-50%);
  color:white;
  font-weight:bold;
  letter-spacing:2px;
  font-size:22px;
  text-shadow:0 2px 8px rgba(0,0,0,0.5);
}
</style>
</head>
<body>

<div class="wrapper">
  <div class="title">AZDI RUNNER</div>
  <canvas id="game" width="320" height="480"></canvas>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let started=false;
let gameOver=false;

let y=380, vy=0, jumping=false;
let obstacleX=320;
let clouds=[{x:50},{x:200}];
let groundOffset=0;

let score=0;
let level=1;
let speed=4;

function drawCloud(x){
  ctx.fillStyle="white";
  ctx.beginPath();
  ctx.arc(x,80,15,0,Math.PI*2);
  ctx.arc(x+15,75,18,0,Math.PI*2);
  ctx.arc(x+30,80,15,0,Math.PI*2);
  ctx.fill();
}

function drawBackground(){
  ctx.fillStyle="#87CEEB";
  ctx.fillRect(0,0,320,480);

  clouds.forEach(c=>{
    drawCloud(c.x);
    c.x-=0.5;
    if(c.x<-40)c.x=360;
  });

  ctx.fillStyle="#6b8e23";
  ctx.fillRect(0,420,320,60);

  groundOffset-=speed;
  ctx.strokeStyle="#4e6b18";
  for(let i=groundOffset;i<320;i+=40){
    ctx.beginPath();
    ctx.moveTo(i,420);
    ctx.lineTo(i+20,480);
    ctx.stroke();
  }
}

function drawPlayer(){
  ctx.fillStyle="#ffcc00";
  ctx.fillRect(40,y,30,30);

  ctx.fillStyle="black";
  ctx.fillRect(48,y+8,5,5);
  ctx.fillRect(62,y+8,5,5);

  ctx.beginPath();
  ctx.arc(55,y+20,6,0,Math.PI);
  ctx.stroke();
}

function drawObstacle(){
  ctx.fillStyle="#cc3333";
  ctx.fillRect(obstacleX,390,26,30);
  ctx.fillStyle="#999";
  ctx.fillRect(obstacleX,390,26,6);
}

function startScreen(){
  drawBackground();
  ctx.fillStyle="black";
  ctx.font="22px Arial";
  ctx.fillText("AZDI RUNNER",80,200);
  ctx.font="14px Arial";
  ctx.fillText("Toca para empezar",90,240);
}

function drawGameOver(){
  ctx.fillStyle="black";
  ctx.font="20px Arial";
  ctx.fillText("GAME OVER",95,220);
  ctx.font="14px Arial";
  ctx.fillText("Toca para reiniciar",85,250);
}

function loop(){
  if(!started){startScreen();return;}

  drawBackground();

  ctx.fillStyle="black";
  ctx.font="14px Arial";
  ctx.fillText("Puntos: "+score,10,20);
  ctx.fillText("Nivel: "+level,230,20);

  if(gameOver){drawGameOver();return;}

  if(jumping){
    vy+=1;
    y+=vy;
    if(y>=380){y=380;vy=0;jumping=false;}
  }

  obstacleX-=speed;

  if(obstacleX<-30){
    obstacleX=320;
    score++;

    if(score%5===0){
      level++;
      speed+=0.5;
    }
  }

  if(obstacleX<70 && obstacleX>10 && y>360) gameOver=true;

  drawPlayer();
  drawObstacle();

  requestAnimationFrame(loop);
}

function tap(){
  if(!started){started=true;loop();return;}

  if(gameOver){
    obstacleX=320;
    score=0;
    level=1;
    speed=4;
    gameOver=false;
    y=380;
    loop();
    return;
  }

  if(!jumping){
    vy=-15;
    jumping=true;
  }
}

canvas.addEventListener("click",tap);
canvas.addEventListener("touchstart",tap);

startScreen();
</script>

</body>
</html>
