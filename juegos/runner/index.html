<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AzDi Runner</title>

<style>
body{
  margin:0;
  background:#87CEEB;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial;
}

canvas{
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,0,0,0.4);
}
</style>
</head>
<body>

<canvas id="game" width="320" height="480"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let gameStarted = false;
let gameOver = false;

let playerY = 380;
let velocityY = 0;
let jumping = false;

let obstacleX = 320;
let score = 0;

function drawBackground(){
  // cielo
  ctx.fillStyle="#87CEEB";
  ctx.fillRect(0,0,320,480);

  // suelo
  ctx.fillStyle="#6b8e23";
  ctx.fillRect(0,420,320,60);
}

function drawPlayer(){
  ctx.fillStyle="#0077ff";
  ctx.fillRect(40,playerY,30,30);
}

function drawObstacle(){
  ctx.fillStyle="#555";
  ctx.fillRect(obstacleX,390,30,30);
}

function drawStartScreen(){
  drawBackground();
  ctx.fillStyle="black";
  ctx.font="20px Arial";
  ctx.fillText("AZDI RUNNER",85,200);
  ctx.font="14px Arial";
  ctx.fillText("Toca para empezar",90,240);
}

function drawGameOver(){
  ctx.fillStyle="black";
  ctx.font="20px Arial";
  ctx.fillText("GAME OVER",95,220);
  ctx.font="14px Arial";
  ctx.fillText("Toca para reiniciar",85,250);
}

function loop(){
  if(!gameStarted){
    drawStartScreen();
    return;
  }

  drawBackground();

  ctx.fillStyle="black";
  ctx.fillText("Puntos: "+score,10,20);

  if(gameOver){
    drawGameOver();
    return;
  }

  // salto
  if(jumping){
    velocityY += 1;
    playerY += velocityY;
    if(playerY>=380){
      playerY=380;
      velocityY=0;
      jumping=false;
    }
  }

  // mover obstáculo
  obstacleX -= 4;
  if(obstacleX < -30){
    obstacleX = 320;
    score++;
  }

  // colisión
  if(obstacleX<70 && obstacleX>10 && playerY>360){
    gameOver=true;
  }

  drawPlayer();
  drawObstacle();

  requestAnimationFrame(loop);
}

function tap(){
  if(!gameStarted){
    gameStarted=true;
    loop();
    return;
  }

  if(gameOver){
    obstacleX=320;
    score=0;
    gameOver=false;
    playerY=380;
    loop();
    return;
  }

  if(!jumping){
    velocityY=-15;
    jumping=true;
  }
}

canvas.addEventListener("click",tap);
canvas.addEventListener("touchstart",tap);

drawStartScreen();
</script>

</body>
</html>
